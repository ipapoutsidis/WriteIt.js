function f(){this.c=[];this.b=[];this.f=[];g(this);for(var a in this.c)if(this.c.hasOwnProperty(a)){var b=this.c[a],d=b.cloneNode(!0);b.style.display="none";b.id+="-seo";this.c[a]=d;b.parentNode.insertBefore(d,b.nextSibling)}for(var c in this.c)this.c.hasOwnProperty(c)&&(this.c[c].hasAttribute("cursor-before")?(this.c[c].style.display="none",this.f[c]=this.c[c].id):this.f[c]=new Node(this.c[c],this.b[c]))}
function g(a){a.c=Array.from(document.querySelectorAll("*[cursor-animate]"));a.c.forEach(function(b){a.b.push(b.innerHTML)})}function h(a){for(var b=k,d=a.id,c=0;c<b.f.length;c++){var e=b.f[c];b.c[c]==a&&(e!=d&&(e=b.f[c],e.index=e.text.length,e.animate=e.node=null,e.rev=!1,e.text="",e.b=[],window.clearInterval(e.interval)),a.innerHTML="",b.f[c]=new Node(a,b.b[c]))}}var k;
function Node(a,b){if(void 0==a||null==a)throw Error("Node Must be a valid HTML Element");this.node=a;this.text=b;this.interval=null;this.b=[];this.reverse=!1;this.speed=this.index=0;this.a="";l(this);this.node.hasAttribute("cursor-replace-next")&&(this.b=this.node.getAttribute("cursor-replace-next").split(","));this.animate()}
Node.prototype.animate=function(){if(this.node){if(this.a=this.node.innerHTML="",this.reverse){if(">"==this.text[this.index]){for(;"<"!=this.text[this.index];)this.a+=this.text[this.index],this.index--;this.a+=this.text[this.index];this.index--}for(var a=this.index;0<=a;a--){if(">"==this.text[a])for(;"<"!=this.text[a];)this.a+=this.text[a],a--;this.a+=this.text[a]}this.a=this.a.split("").reverse().join("");this.a+="|"}else{for(a=0;a<this.index;a++){if("<"==this.text[a])for(;">"!=this.text[a];)this.a+=
this.text[a],a++;this.a+=this.text[a]}if(this.a+="|","<"==this.text[this.index]){for(;">"!=this.text[this.index];)this.index++;this.index++}}this.node.innerHTML=this.a;l(this);this.handle()}};
Node.prototype.handle=function(){if(this.reverse)if(this.index--,0>this.index)if(this.node.hasAttribute("cursor-replace-next")){var a;console.log(this.text,this.b);for(a=0;a<this.b.length;a++){if(this.b[a]==this.text)return this.index=0,this.reverse=!1,this.text=a+1==this.b.length?this.b[0]:this.b[a+1],void this.setTimeout(this.speed);console.log(a,this.text,this.b)}a==this.b.length&&(this.text=this.b[0],this.index=0,this.reverse=!1,this.setTimeout(this.g))}else this.index=0,this.reverse=!1,this.setTimeout(this.speed);
else this.reverse=!0,this.setTimeout(this.speed);else if(this.index++,this.index>this.text.length){if(this.node.hasAttribute("cursor-after"))try{(a=document.querySelector(this.node.getAttribute("cursor-after"))).style.display="",h(a)}catch(c){console.log(c)}if(this.node.hasAttribute("cursor-replace-next"))if(this.text==this.b[this.b.length-1]){var b=this;this.node.hasAttribute("cursor-loop")?(this.index=0,this.text=this.b[0],this.reverse=!1,this.setTimeout(this.speed)):this.interval=setInterval(function(){b.node.innerHTML=
b.node.innerHTML==b.text||b.node.innerHTML==b.text+" "?b.text+"|":b.text+" "},500)}else this.index=this.text.length-1,this.reverse=!0,this.setTimeout(this.speed);else if(this.node.hasAttribute("cursor-loop"))this.index=0,this.setTimeout(this.speed);else if(this.node.hasAttribute("cursor-loop-reverse"))this.index=this.text.length-1,this.reverse=!0,this.setTimeout(this.speed);else if(this.node.hasAttribute("cursor-after"))this.node.innerHTML=this.text;else{var d=this;this.interval=setInterval(function(){d.node.innerHTML=
d.node.innerHTML==d.text||d.node.innerHTML==d.text+" "?d.text+"|":d.text+" "},500)}}else this.setTimeout(this.speed)};Node.prototype.setTimeout=function(a){setTimeout(this.animate.bind(this),a)};function l(a){if(a.node.hasAttribute("cursor-speed-fixed"))a.speed=1E3/a.node.getAttribute("cursor-speed-fixed");else if(a.node.hasAttribute("cursor-speed")){var b=1E3/a.node.getAttribute("cursor-speed");a.speed=Math.random()*(b+100-(b-100))+(b-100)}else a.speed=150*Math.random()+150}
window.addEventListener("load",function(){k=new f});
